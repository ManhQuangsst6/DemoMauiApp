<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="DemoMauiApp.UI.Controls.MessageBubble"
    xmlns:models="clr-namespace:DemoMauiApp.DataAccess.Models;assembly=DemoMauiApp.DataAccess"
    x:DataType="models:MessageChat"
    xmlns:telerik="http://schemas.telerik.com/2022/xaml/maui"
    xmlns:ui="clr-namespace:DemoMauiApp.UI;assembly=DemoMauiApp.UI"
    xmlns:converter="clr-namespace:DemoMauiApp.UI.Converters;assembly=DemoMauiApp.UI"
    >
    <ContentView.Resources>
        <converter:DateTimeToStringConverter
            x:Key="DateTimeToStringConverter" />
    </ContentView.Resources>
    <StackLayout>
        <Label
            Text="{Binding CreatedAt,Converter={StaticResource DateTimeToStringConverter}}"
            TextColor="{x:Static ui:AppColors.Gray}"
            VerticalOptions="Center"
            HorizontalOptions="Center"
            IsVisible="False">
            <Label.Triggers>
                <DataTrigger
                    TargetType="Label"
                    Binding="{Binding IsNewTime}"
                    Value="true">
                    <Setter
                        Property="IsVisible"
                        Value="True" />
                </DataTrigger>
            </Label.Triggers>
        </Label>
        <telerik:RadBorder
            HorizontalOptions="Start"
            CornerRadius="24,16,16,4"
            Padding="10"
            Margin="5"
            BorderThickness="1"
            BackgroundColor="{x:Static ui:AppColors.GainsboroGray}">
            <telerik:RadBorder.Triggers>
                <DataTrigger
                    TargetType="telerik:RadBorder"
                    Binding="{Binding UserChatId}"
                    Value="1">
                    <Setter
                        Property="HorizontalOptions"
                        Value="End" />
                    <Setter
                        Property="BackgroundColor"
                        Value="{x:Static ui:AppColors.Black}" />
                    <Setter
                        Property="CornerRadius"
                        Value="16,16,4,16" />
                </DataTrigger>
            </telerik:RadBorder.Triggers>
            <Label
                HorizontalOptions="End"
                VerticalOptions="End"
                VerticalTextAlignment="End"
                Text="{Binding Content}"
                TextColor="{x:Static ui:AppColors.Black}">
                <Label.Triggers>
                    <DataTrigger
                        TargetType="Label"
                        Binding="{Binding UserChatId}"
                        Value="1">
                        <Setter
                            Property="TextColor"
                            Value="White" />
                    </DataTrigger>
                </Label.Triggers>
            </Label>
        </telerik:RadBorder>
    </StackLayout>
   

</ContentView>
